package com.successfactors.cdp.service.impl;

import java.sql.Connection;
import java.util.List;

import javax.inject.Inject;

import org.jboss.seam.annotations.In;

import com.successfactors.cdp.bean.CareerWorkSheetSuggestedRolesFilterSettingBean;
import com.successfactors.cdp.api.dao.SuggestedRolesSettingDAO;
import com.successfactors.cdp.service.GetSuggestedRolesFilterFlags;
import com.successfactors.platform.bean.ParamBean;
import com.successfactors.platform.dao.DAOFactory;
import com.successfactors.sca.ServiceApplicationException;
import com.successfactors.sca.ServiceQueryImpl;
import com.successfactors.sca.config.Service;

@Service
public class GetSuggestedRolesFilterFlagsImpl implements ServiceQueryImpl<List<CareerWorkSheetSuggestedRolesFilterSettingBean>, GetSuggestedRolesFilterFlags>{

    @Inject
    @In
    Connection dbConnection;
    
    @Inject
    @In
    ParamBean params;
    
    private SuggestedRolesSettingDAO settingDAO = DAOFactory.getDAOFactory().getSuggestedRolesSettingDAO();
    
    @Override
    public List<CareerWorkSheetSuggestedRolesFilterSettingBean> execute(
            GetSuggestedRolesFilterFlags cmd)
            throws ServiceApplicationException {
        List<CareerWorkSheetSuggestedRolesFilterSettingBean> flagList = settingDAO.getFilterFlags(params.getCompanySchema(), dbConnection);
        return flagList;
    }

}
