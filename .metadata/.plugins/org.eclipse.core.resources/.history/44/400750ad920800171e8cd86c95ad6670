package org.eclipse.jdt.ui.actions;

import org.eclipse.core.runtime.CoreException;
import org.eclipse.jface.viewers.IStructuredSelection;
import org.eclipse.ui.INewWizard;
import org.eclipse.ui.PlatformUI;
import org.eclipse.jdt.ui.wizards.NewPackageWizardPage;
import org.eclipse.jdt.internal.ui.IJavaHelpContextIds;
import org.eclipse.jdt.internal.ui.JavaPluginImages;
import org.eclipse.jdt.internal.ui.actions.ActionMessages;
import org.eclipse.jdt.internal.ui.wizards.NewPackageCreationWizard;

/** 
 * <p>Action that opens the new package wizard. The action initializes the wizard with the selection as configured by  {@link #setSelection(IStructuredSelection)} or the selection ofthe active workbench window.</p> <p> This class may be instantiated; it is not intended to be subclassed. </p>
 * @since 3.2
 * @noextend This class is not intended to be subclassed by clients.
 */
public class OpenNewPackageWizardAction extends AbstractOpenWizardAction implements IOpenNewPackageWizardAction {
	private INewPackageWizardPage fPage;

	/** 
	* Creates an instance of the <code>OpenNewPackageWizardAction</code>.
	*/
	public OpenNewPackageWizardAction() {
		setText(ActionMessages.OpenNewPackageWizardAction_text);
		setDescription(ActionMessages.OpenNewPackageWizardAction_description);
		setToolTipText(ActionMessages.OpenNewPackageWizardAction_tooltip);
		setImageDescriptor(JavaPluginImages.DESC_WIZBAN_NEWPACK);
		PlatformUI.getWorkbench().getHelpSystem().setHelp(this, IJavaHelpContextIds.OPEN_PACKAGE_WIZARD_ACTION);
	}

	/** 
	* Sets a page to be used by the wizard or <code>null</code> to use a page initialized with values from the current selection (see  {@link #getSelection()} and {@link #setSelection(IStructuredSelection)}).
	* @param page the page to use or <code>null</code>
	* @since 3.4
	*/
	@Override
	public void setConfiguredWizardPage(NewPackageWizardPage page) {
		fPage= page;
	}

	protected final INewWizard createWizard() throws CoreException {
		return new NewPackageCreationWizard(fPage);
	}
}
